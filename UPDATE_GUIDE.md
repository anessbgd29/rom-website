# دليل تحديث وصيانة موقع الرومات

## مقدمة

هذا الدليل يشرح كيفية تحديث بيانات الرومات في الموقع وصيانته مستقبلاً. الموقع مبني باستخدام React مع TypeScript ويستخدم Material UI للواجهة، مع دعم كامل للغتين العربية والإنجليزية.

## هيكل المشروع

```
rom-website/
├── public/                  # الملفات العامة
├── src/                     # كود المصدر
│   ├── assets/              # الأصول (الصور، البيانات)
│   │   └── roms_data.json   # بيانات الرومات
│   ├── components/          # مكونات React المعاد استخدامها
│   ├── hooks/               # React Hooks المخصصة
│   ├── pages/               # صفحات الموقع
│   ├── services/            # خدمات مثل Mock API
│   ├── types/               # تعريفات TypeScript
│   └── utils/               # وظائف مساعدة
├── package.json             # تبعيات المشروع
└── README.md                # معلومات عامة عن المشروع
```

## كيفية تحديث بيانات الرومات

### الطريقة 1: تحديث ملف JSON مباشرة

1. افتح ملف `src/assets/roms_data.json`
2. أضف أو عدّل بيانات الرومات مع الحفاظ على نفس البنية
3. تأكد من أن البيانات الجديدة تتبع نفس التنسيق الموجود
4. أعد بناء الموقع باستخدام `npm run build` أو `pnpm run build`

### الطريقة 2: استخدام سكريبت التحويل من CSV

إذا كانت لديك بيانات جديدة بتنسيق CSV، يمكنك استخدام سكريبت التحويل المرفق:

1. ضع ملف CSV الجديد في المجلد الرئيسي للمشروع
2. قم بتشغيل سكريبت التحويل:
   ```bash
   python3 convert_csv_to_json.py --input new_roms.csv --output src/assets/roms_data.json
   ```
3. سيقوم السكريبت بتحويل البيانات وتنظيمها بالشكل المطلوب
4. أعد بناء الموقع

### الطريقة 3: إضافة Backend حقيقي (للتطوير المستقبلي)

إذا كنت ترغب في إضافة backend حقيقي بدلاً من Mock API:

1. قم بإنشاء مشروع Flask باستخدام الأمر:
   ```bash
   create_flask_app rom-api
   ```
2. انقل ملف البيانات JSON إلى مجلد المشروع
3. قم بإنشاء نقاط نهاية API تقرأ من ملف JSON أو قاعدة بيانات
4. عدّل ملف `src/services/mockApi.ts` ليستخدم API الحقيقي بدلاً من البيانات المحلية

## كيفية إضافة رومات جديدة

لإضافة روم جديد، تأكد من توفر المعلومات التالية:

```json
{
  "message_id": "unique_id_here",
  "date": "2025-05-26",
  "rom_name": "اسم الروم",
  "rom_version": "إصدار الروم",
  "android_version": "14",
  "build_type": ["Official", "GApps"],
  "download_links": ["https://example.com/download1", "https://example.com/download2"],
  "image_path": "مسار الصورة (اختياري)",
  "changelog": "سجل التغييرات",
  "bugs": "المشاكل المعروفة",
  "notes": "ملاحظات إضافية",
  "maintainer": "اسم المطور"
}
```

## كيفية تخصيص الواجهة

### تغيير الألوان

1. افتح ملف `src/App.tsx`
2. عدّل قيم الألوان في دالة `createAppTheme`

### إضافة لغات جديدة

1. افتح ملف `src/i18n.ts`
2. أضف لغة جديدة في كائن `resources`
3. ترجم جميع النصوص الموجودة

## نشر الموقع

### الخيار 1: استضافة ثابتة (Static Hosting)

1. قم ببناء الموقع:
   ```bash
   pnpm run build
   ```
2. سيتم إنشاء مجلد `build` يحتوي على الملفات النهائية
3. ارفع محتويات هذا المجلد إلى أي خدمة استضافة ثابتة مثل GitHub Pages أو Netlify أو Vercel

### الخيار 2: استخدام خدمة النشر المدمجة

يمكنك استخدام أمر النشر المدمج لنشر الموقع مباشرة:

```bash
deploy_apply_deployment --type static --local_dir /home/ubuntu/rom-website/build
```

## استكشاف الأخطاء وإصلاحها

### مشكلة: البيانات لا تظهر

- تأكد من أن ملف `roms_data.json` موجود في المسار الصحيح
- تحقق من تنسيق JSON وتأكد من أنه صالح

### مشكلة: الصور لا تظهر

- تأكد من أن مسارات الصور صحيحة
- إذا كنت تستخدم صورًا محلية، تأكد من وجودها في مجلد `public`

### مشكلة: الترجمة لا تعمل

- تحقق من ملف `i18n.ts` وتأكد من وجود جميع النصوص المطلوبة

## الخلاصة

هذا الموقع مصمم ليكون سهل الصيانة والتحديث. باتباع الإرشادات أعلاه، يمكنك الحفاظ على تحديث بيانات الرومات وتخصيص الواجهة حسب احتياجاتك المستقبلية.
